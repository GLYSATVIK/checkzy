{
  "version": 3,
  "sources": ["../src/content.ts"],
  "sourcesContent": ["// Checkzy AI Content Script\r\n\r\n// Icons (Simple SVGs)\r\nconst ICONS = {\r\n    wand: `<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"url(#grad1)\" stroke=\"none\"><defs><linearGradient id=\"grad1\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\"><stop offset=\"0%\" style=\"stop-color:#8E2DE2;stop-opacity:1\" /><stop offset=\"100%\" style=\"stop-color:#4A00E0;stop-opacity:1\" /></linearGradient></defs><path d=\"M12 2L14.4 7.2L20 9L14.4 10.8L12 16L9.6 10.8L4 9L9.6 7.2L12 2Z\"></path><path d=\"M18 16L19.2 18.6L22 19.5L19.2 20.4L18 23L16.8 20.4L14 19.5L16.8 18.6L18 16Z\"></path><path d=\"M5 16L5.8 17.6L7.5 18.2L5.8 18.8L5 20.5L4.2 18.8L2.5 18.2L4.2 17.6L5 16Z\"></path></svg>`,\r\n    close: `<svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>`,\r\n    send: `<svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"3\"><line x1=\"22\" y1=\"2\" x2=\"11\" y2=\"13\"></line><polygon points=\"22 2 15 22 11 13 2 9 22 2\"></polygon></svg>`,\r\n    check: `<svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><polyline points=\"20 6 9 17 4 12\"></polyline></svg>`,\r\n    edit: `<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path><path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path></svg>`,\r\n    zap: `<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><polygon points=\"13 2 3 14 12 14 11 22 21 10 12 10 13 2\"></polygon></svg>`,\r\n    smile: `<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><path d=\"M8 14s1.5 2 4 2 4-2 4-2\"></path><line x1=\"9\" y1=\"9\" x2=\"9.01\" y2=\"9\"></line><line x1=\"15\" y1=\"9\" x2=\"15.01\" y2=\"9\"></line></svg>`,\r\n    briefcase: `<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><rect x=\"2\" y=\"7\" width=\"20\" height=\"14\" rx=\"2\" ry=\"2\"></rect><path d=\"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16\"></path></svg>`,\r\n    user: `<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"></path><circle cx=\"12\" cy=\"7\" r=\"4\"></circle></svg>`\r\n};\r\n\r\nlet shadowRoot: ShadowRoot | null = null;\r\nlet host: HTMLElement | null = null;\r\nlet wpToolbar: HTMLElement | null = null;\r\nlet dialog: HTMLElement | null = null;\r\nlet activeSelectionRange: Range | null = null;\r\nlet lastFocusedElement: HTMLElement | null = null; // Track focus for Insert\r\nlet currentResult = '';\r\n\r\n// Cleanup old instances (Zombies)\r\nfunction cleanUpOldUI() {\r\n    try {\r\n        const oldHost = document.getElementById('checkzy-host');\r\n        if (oldHost) oldHost.remove();\r\n    } catch (e) { }\r\n}\r\ncleanUpOldUI();\r\n\r\n// Checker: is extension valid?\r\nfunction isExtensionValid() {\r\n    try {\r\n        return !!chrome.runtime.getManifest();\r\n    } catch (e) {\r\n        return false;\r\n    }\r\n}\r\n\r\n// Initialize Shadow DOM\r\nfunction initUI() {\r\n    if (host) return;\r\n    if (!isExtensionValid()) return; // Stop if invalidated\r\n\r\n    const target = document.body || document.documentElement;\r\n    if (!target) {\r\n        setTimeout(initUI, 500);\r\n        return;\r\n    }\r\n\r\n    try {\r\n        const newHost = document.createElement('div');\r\n        newHost.id = 'checkzy-host';\r\n        target.appendChild(newHost);\r\n        host = newHost;\r\n        shadowRoot = host.attachShadow({ mode: 'open' });\r\n\r\n        // Inject Styles\r\n        const styleLink = document.createElement('link');\r\n        styleLink.rel = 'stylesheet';\r\n        styleLink.href = chrome.runtime.getURL('ui.css');\r\n        shadowRoot.appendChild(styleLink);\r\n    } catch (e) {\r\n        console.error('Checkzy: UI Injection failed', e);\r\n        host = null;\r\n    }\r\n}\r\n\r\n// Message Listener\r\nchrome.runtime.onMessage.addListener((msg, sender, sendResponse) => {\r\n    if (msg.action === 'OPEN_DIALOG') {\r\n        if (!isExtensionValid()) return;\r\n        const text = msg.text;\r\n        if (text) {\r\n            currentResult = text;\r\n            (window as any)._checkzy_text = text;\r\n            const selection = window.getSelection();\r\n            let rect: DOMRect | null = null;\r\n            if (selection && selection.rangeCount > 0) {\r\n                rect = selection.getRangeAt(0).getBoundingClientRect();\r\n            }\r\n            if (!rect) rect = { bottom: window.innerHeight / 2, left: window.innerWidth / 2, top: 0, right: 0, width: 0, height: 0, x: 0, y: 0, toJSON: () => { } };\r\n            showDialog(rect);\r\n        }\r\n    }\r\n});\r\n\r\n// Selection Listener\r\ndocument.addEventListener('selectionchange', debounce(handleSelection, 200));\r\n\r\nfunction debounce(func: Function, wait: number) {\r\n    let timeout: any;\r\n    return function (...args: any) {\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(() => func(...args), wait);\r\n    };\r\n}\r\n\r\nfunction handleSelection() {\r\n    if (!isExtensionValid()) return; // Stop\r\n\r\n    setTimeout(() => {\r\n        const active = document.activeElement as HTMLElement;\r\n        let text = '';\r\n        let rect: DOMRect | null = null;\r\n\r\n        // Important: Only reset captured element if we are actually selecting something new in the DOM \r\n        // that isn't our own shadow DOM.\r\n        if (shadowRoot && shadowRoot.contains(active)) return;\r\n\r\n        // 1. Input/Textarea\r\n        if (active && (active.tagName === 'INPUT' || active.tagName === 'TEXTAREA')) {\r\n            const el = active as HTMLInputElement | HTMLTextAreaElement;\r\n            const start = el.selectionStart;\r\n            const end = el.selectionEnd;\r\n            if (start !== null && end !== null && start !== end) {\r\n                text = el.value.substring(start, end);\r\n                const inputRect = el.getBoundingClientRect();\r\n                rect = { bottom: inputRect.bottom, left: inputRect.left + 10, top: inputRect.top, right: inputRect.right, width: inputRect.width, height: inputRect.height, x: inputRect.x, y: inputRect.y, toJSON: () => { } };\r\n                // Capture reference!\r\n                lastFocusedElement = active;\r\n                activeSelectionRange = null; // Clear range fallback if we have an element\r\n            }\r\n        }\r\n        // 2. Body Text/ContentEditable\r\n        else {\r\n            const selection = window.getSelection();\r\n            if (selection && !selection.isCollapsed) {\r\n                const anchor = selection.anchorNode;\r\n                const parent = anchor?.parentElement;\r\n                const isEditable = parent?.isContentEditable || (anchor instanceof HTMLElement && anchor.isContentEditable);\r\n                if (isEditable) {\r\n                    text = selection.toString();\r\n                    if (selection.rangeCount > 0) {\r\n                        activeSelectionRange = selection.getRangeAt(0).cloneRange();\r\n                        rect = activeSelectionRange.getBoundingClientRect();\r\n                        lastFocusedElement = active; // Also capture base element if possible\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (text && text.trim() && rect) {\r\n            currentResult = text;\r\n            (window as any)._checkzy_text = text;\r\n            showToolbar(rect);\r\n        } else {\r\n            // Only hide if we clicked outside and aren't interacting with our own UI\r\n            if (!active || (shadowRoot && !shadowRoot.contains(active))) {\r\n                hideToolbar();\r\n            }\r\n        }\r\n    }, 10);\r\n}\r\n\r\nfunction showToolbar(rectOrRange: any) {\r\n    if (!shadowRoot) initUI();\r\n    if (!host) return; // Wait for init\r\n    if (dialog) return;\r\n\r\n    if (!wpToolbar) {\r\n        wpToolbar = document.createElement('div');\r\n        wpToolbar.className = 'wp-toolbar';\r\n        wpToolbar.innerHTML = `<button class=\"wp-icon-btn\" id=\"wp-open-btn\">${ICONS.wand}</button>`;\r\n        shadowRoot!.appendChild(wpToolbar);\r\n        wpToolbar.querySelector('#wp-open-btn')?.addEventListener('mousedown', (e) => {\r\n            e.preventDefault(); e.stopPropagation();\r\n            showDialog(); hideToolbar();\r\n        });\r\n    }\r\n\r\n    let rect;\r\n    if (rectOrRange.getBoundingClientRect) rect = rectOrRange.getBoundingClientRect();\r\n    else rect = rectOrRange;\r\n\r\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n    const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\r\n    wpToolbar.style.display = 'flex';\r\n    wpToolbar.style.top = `${scrollTop + rect.bottom + 5}px`;\r\n    wpToolbar.style.left = `${scrollLeft + rect.left}px`;\r\n}\r\n\r\nfunction hideToolbar() {\r\n    if (wpToolbar) wpToolbar.style.display = 'none';\r\n}\r\n\r\nfunction showDialog(rectOverride?: DOMRect) {\r\n    if (!shadowRoot) initUI();\r\n    if (!host) return;\r\n    if (dialog) return;\r\n\r\n    dialog = document.createElement('div');\r\n    dialog.className = 'wp-dialog';\r\n\r\n    // Positioning\r\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n    const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\r\n\r\n    if (wpToolbar && wpToolbar.style.display !== 'none') {\r\n        dialog.style.top = wpToolbar.style.top;\r\n        dialog.style.left = wpToolbar.style.left;\r\n    } else if (rectOverride) {\r\n        dialog.style.top = `${scrollTop + rectOverride.bottom + 10}px`;\r\n        dialog.style.left = `${scrollLeft + rectOverride.left}px`;\r\n    } else if (activeSelectionRange) {\r\n        const rect = activeSelectionRange.getBoundingClientRect();\r\n        dialog.style.top = `${scrollTop + rect.bottom + 10}px`;\r\n        dialog.style.left = `${scrollLeft + rect.left}px`;\r\n    } else {\r\n        dialog.style.top = `${scrollTop + 100}px`;\r\n        dialog.style.left = `${scrollLeft + 100}px`;\r\n    }\r\n\r\n    renderPresetsState();\r\n    shadowRoot!.appendChild(dialog);\r\n}\r\n\r\nfunction closeDialog() {\r\n    if (dialog) { dialog.remove(); dialog = null; }\r\n}\r\n\r\nfunction renderPresetsState() {\r\n    if (!dialog) return;\r\n    dialog.innerHTML = `\r\n        <div class=\"wp-header\">\r\n            <div class=\"wp-mac-buttons\">\r\n                <div class=\"wp-mac-dot wp-dot-red\"></div>\r\n                <div class=\"wp-mac-dot wp-dot-yellow\"></div>\r\n                <div class=\"wp-mac-dot wp-dot-green\"></div>\r\n            </div>\r\n            <span class=\"wp-title\">checkzy.ai</span>\r\n        </div>\r\n        <div class=\"wp-body\">\r\n            <div class=\"wp-preset-list\">\r\n                <div class=\"wp-preset-item\" data-prompt=\"Humanize text\">${ICONS.user} Humanize</div>\r\n                <div class=\"wp-preset-item\" data-prompt=\"Fix grammar\">${ICONS.check} Fix grammar</div>\r\n                <div class=\"wp-preset-item\" data-prompt=\"Make it shorter\">${ICONS.zap} Make it shorter</div>\r\n                <div class=\"wp-preset-item\" data-prompt=\"Write professionally\">${ICONS.briefcase} Write professionally</div>\r\n            </div>\r\n        </div>\r\n        <div class=\"wp-footer\">\r\n            <div class=\"wp-input-container\">\r\n                <input type=\"text\" class=\"wp-prompt-input\" placeholder=\"Refine response...\" id=\"wp-custom-prompt\">\r\n                <button class=\"wp-send-btn\">${ICONS.send}</button>\r\n            </div>\r\n            <div class=\"wp-model-select\">\r\n                <select class=\"wp-select\" id=\"wp-model\">\r\n                    <option value=\"\" disabled selected>Select AI</option>\r\n                    <option value=\"gpt-4o\">OpenAI</option>\r\n                    <option value=\"gemini-1.5-flash\">Gemini</option>\r\n                    <option value=\"claude-3-haiku\">Claude</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n    `;\r\n\r\n    // Auto-select model from storage (async)\r\n    chrome.storage.local.get(['openai_key', 'gemini_key', 'anthropic_key'], (res) => {\r\n        const select = shadowRoot?.querySelector('#wp-model') as HTMLSelectElement;\r\n        if (!select) return;\r\n\r\n        // Smart default logic\r\n        if (res.openai_key) { select.value = 'gpt-4o'; }\r\n        else if (res.gemini_key) { select.value = 'gemini-1.5-flash'; }\r\n        else if (res.anthropic_key) { select.value = 'claude-3-haiku'; }\r\n        else { select.value = 'gpt-4o'; } // Fallback\r\n    });\r\n\r\n    bindDialogEvents();\r\n}\r\n\r\nfunction renderLoadingState() {\r\n    if (!dialog) return;\r\n    const body = dialog.querySelector('.wp-body')!;\r\n    body.innerHTML = `<div style=\"padding:20px; text-align:center; color:#666;\">Thinking...</div>`;\r\n}\r\n\r\nfunction renderResultState(text: string) {\r\n    if (!dialog) return;\r\n    currentResult = text;\r\n    const body = dialog.querySelector('.wp-body')!;\r\n    body.innerHTML = `\r\n        <div class=\"wp-result-area\">\r\n            <div class=\"wp-result-text\">${text}</div>\r\n            <button class=\"wp-insert-btn\">${ICONS.check} Insert</button>\r\n        </div>\r\n    `;\r\n    body.querySelector('.wp-insert-btn')?.addEventListener('click', () => {\r\n        replaceSelection(text);\r\n        closeDialog();\r\n    });\r\n}\r\n\r\nfunction renderError(msg: string) {\r\n    if (!dialog) return;\r\n    const body = dialog.querySelector('.wp-body')!;\r\n    body.innerHTML = `<div style=\"padding:20px; color:red;\">Error: ${msg}</div>`;\r\n}\r\n\r\nfunction bindDialogEvents() {\r\n    if (!dialog) return;\r\n    dialog.querySelector('.wp-dot-red')?.addEventListener('click', closeDialog);\r\n\r\n    // Presets\r\n    dialog.querySelectorAll('.wp-preset-item').forEach(el => {\r\n        el.addEventListener('click', () => {\r\n            const prompt = el.getAttribute('data-prompt');\r\n            if (prompt) generateText(prompt);\r\n        });\r\n    });\r\n\r\n    // Input\r\n    const input = dialog.querySelector('#wp-custom-prompt') as HTMLInputElement;\r\n    const sendBtn = dialog.querySelector('.wp-send-btn');\r\n    const handleSend = () => { if (input.value.trim()) generateText(input.value.trim()); };\r\n\r\n    sendBtn?.addEventListener('click', handleSend);\r\n    input.addEventListener('keydown', (e) => { if (e.key === 'Enter') handleSend(); });\r\n}\r\n\r\nasync function generateText(prompt: string) {\r\n    const text = (window as any)._checkzy_text || '';\r\n    if (!text) return;\r\n\r\n    if (!isExtensionValid()) { alert('Extension invalid. Please refresh page.'); return; }\r\n\r\n    renderLoadingState();\r\n\r\n    const modelSelect = shadowRoot?.querySelector('#wp-model') as HTMLSelectElement;\r\n    // Default logic if nothing selected (should happen via storage check, but just in case)\r\n    let model = modelSelect?.value;\r\n    if (!model) { // try one more fallback if selection didn't update in time\r\n        model = 'gpt-4o';\r\n    }\r\n\r\n    try {\r\n        const res = await chrome.runtime.sendMessage({\r\n            action: 'GENERATE',\r\n            prompt: prompt,\r\n            model: model,\r\n            text: text\r\n        });\r\n        if (res.error) renderError(res.error);\r\n        else renderResultState(res.text);\r\n    } catch (e: any) {\r\n        if (e.message && e.message.includes('invalidated')) renderError('Context Invalidated. Refresh page.');\r\n        else renderError(e.message);\r\n    }\r\n}\r\n\r\nfunction replaceSelection(text: string) {\r\n    // 1. Try to use stored element reference (most robust for inputs)\r\n    let targetEl = lastFocusedElement;\r\n\r\n    // If not found or disconnected, try to look at current active element\r\n    if (!targetEl || !document.contains(targetEl)) {\r\n        targetEl = document.activeElement as HTMLElement;\r\n    }\r\n\r\n    if (targetEl && (targetEl.tagName === 'INPUT' || targetEl.tagName === 'TEXTAREA')) {\r\n        const el = targetEl as HTMLInputElement;\r\n\r\n        try {\r\n            // Restore focus to the input to ensure setRangeText processes correctly\r\n            el.focus();\r\n\r\n            if (typeof el.selectionStart === 'number') {\r\n                const start = el.selectionStart || 0;\r\n                const end = el.selectionEnd || 0;\r\n                el.setRangeText(text, start, end, 'select');\r\n            } else {\r\n                // Fallback if selection API missing\r\n                el.value = text;\r\n            }\r\n            // Trigger events to notify frameworks (React, etc.)\r\n            el.dispatchEvent(new Event('input', { bubbles: true }));\r\n            el.dispatchEvent(new Event('change', { bubbles: true }));\r\n        } catch (e) {\r\n            console.error('Checkzy Insert Failed:', e);\r\n        }\r\n\r\n    } else if (activeSelectionRange) {\r\n        // 2. ContentEditable fallback\r\n        const sel = window.getSelection();\r\n        if (sel) {\r\n            sel.removeAllRanges();\r\n            sel.addRange(activeSelectionRange);\r\n            if (document.queryCommandSupported('insertText')) {\r\n                document.execCommand('insertText', false, text);\r\n            } else {\r\n                activeSelectionRange.deleteContents();\r\n                activeSelectionRange.insertNode(document.createTextNode(text));\r\n            }\r\n        }\r\n    }\r\n}\r\n"],
  "mappings": "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",
  "names": []
}
